/*! moviq-build 2015-03-04 */
var moviqContainer=new Hilary;moviqContainer.register({name:"locale::en_US",factory:{errors:{interfaces:{requiresImplementation:"An implementation is required to create a new instance of an interface",requiresProperty:"The implementation is missing a required property: ",requiresArguments:"The implementation of this function requires the arguments: "},jqButtons:{fullscreenNotSupported:"Sorry, we don't recognize your browser, so we can't toggle fullscreen mode."}}}}),moviqContainer.register({name:"IButtons",dependencies:["locale"],factory:function(){"use strict";return function(a){var b=this,c=a||{};b.togglePlay=c.togglePlay,b.toggleFullscreen=c.toggleFullscreen,b.toggleCaptions=c.toggleCaptions,b.toggleMute=c.toggleMute,b.toggleQuality=c.toggleQuality,b.changeQuality=c.changeQuality,b.toggleSpeed=c.toggleSpeed,b.changeSpeed=c.changeSpeed,b.toggleMore=c.toggleMore}}}),moviqContainer.register({name:"IEventEmitter",dependencies:["locale"],factory:function(a){"use strict";return function(b){var c=this;if(!b)throw new Error(a.errors.interfaces.requiresImplementation);if("function"!=typeof b.emit)throw new Error(a.errors.interfaces.requiresProperty+"emit");if(2!==b.emit.length)throw new Error(a.errors.interfaces.requiresArguments+"type, data");c.emit=b.emit}}}),moviqContainer.register({name:"IEvents",dependencies:["locale"],factory:function(){"use strict";return function(a){var b=this,c=function(){};b.onLoadMetadata=a.onLoadMetadata||c,b.onTimeUpdate=a.onTimeUpdate||c,b.onCanPlay=a.onCanPlay||c,b.onCanPlayThrough=a.onCanPlayThrough||c,b.onVideoEnded=a.onVideoEnded||c,b.onSeeking=a.onSeeking||c,b.onSeekComplete=a.onSeekComplete||c,b.onWaiting=a.onWaiting||c,b.onError=a.onError||c,b.onPlay=a.onPlay||c,b.onPause=a.onPause||c,b.onShowCaptions=a.onShowCaptions||c,b.onHideCaptions=a.onHideCaptions||c,b.onToggleSpeed=a.onToggleSpeed||c,b.onChangeSpeed=a.onChangeSpeed||c,b.onToggleQuality=a.onToggleQuality||c,b.onChangeQuality=a.onChangeQuality||c,b.onSoundOn=a.onSoundOn||c,b.onSoundOff=a.onSoundOff||c,b.onFullscreenOn=a.onFullscreenOn||c,b.onFullscreenOff=a.onFullscreenOff||c}}}),moviqContainer.register({name:"IHtmlTemplateGenerator",dependencies:["locale","eventHandlers"],factory:function(a,b){"use strict";return function(c){var d=this,e=c||{};c||b.onError(a.errors.interfaces.requiresImplementation),"function"!=typeof e.makeControlsMarkup&&b.onError(a.errors.interfaces.requiresProperty+"makeControlsMarkup"),1!==e.makeControlsMarkup.length&&b.onError(a.errors.interfaces.requiresArguments+"videoContainer"),"function"!=typeof e.makeSourceMarkup&&b.onError(a.errors.interfaces.requiresProperty+"makeSourceMarkup"),1!==e.makeSourceMarkup.length&&b.onError(a.errors.interfaces.requiresArguments+"iSourceArray"),"function"!=typeof e.makeCaptionMarkup&&b.onError(a.errors.interfaces.requiresProperty+"makeCaptionMarkup"),1!==e.makeCaptionMarkup.length&&b.onError(a.errors.interfaces.requiresArguments+"iCaptionArray"),d.makeControlsMarkup=e.makeControlsMarkup,d.makeSourceMarkup=e.makeSourceMarkup,d.makeCaptionMarkup=e.makeCaptionMarkup}}}),moviqContainer.register({name:"IMoviq",dependencies:["locale","eventHandlers"],factory:function(a,b){"use strict";return function(c){var d=this,e=c||{};c||b.onError(a.errors.interfaces.requiresImplementation),"function"!=typeof e.ify&&b.onError(a.errors.interfaces.requiresProperty+"ify"),"function"!=typeof e.bindAll&&b.onError(a.errors.interfaces.requiresProperty+"bindAll"),d.ify=e.ify,d.bindAll=e.bindAll}}}),moviqContainer.register({name:"IProgressMeter",dependencies:["locale"],factory:function(a){"use strict";return function(b){var c=this,d=b||{};if(!b)throw new Error(a.errors.interfaces.requiresImplementation);if("function"!=typeof d.init)throw new Error(a.errors.interfaces.requiresProperty+"init");if(1!==b.init.length)throw new Error(a.errors.interfaces.requiresArguments+"iVideo");c.init=d.init}}}),moviqContainer.register({name:"ISource",dependencies:["locale","eventHandlers"],factory:function(a,b){"use strict";return function(c){var d=this;c||b.onError(a.errors.interfaces.requiresImplementation),"string"!=typeof c.src&&b.onError(a.errors.interfaces.requiresProperty+"src"),"string"!=typeof c.type&&b.onError(a.errors.interfaces.requiresProperty+"type"),"string"!=typeof c.label&&b.onError(a.errors.interfaces.requiresProperty+"label"),d.src=c.src,d.type=c.type,d.label=c.label}}}),moviqContainer.register({name:"ISourceParser",dependencies:["locale"],factory:function(a){"use strict";return function(b){var c=this,d=b||{};if(!b)throw new Error(a.errors.interfaces.requiresImplementation);if("function"!=typeof d.getSources)throw new Error(a.errors.interfaces.requiresProperty+"getSources");if(1!==d.getSources.length)throw new Error(a.errors.interfaces.requiresArguments+"iVideo");if("function"!=typeof d.convertSources)throw new Error(a.errors.interfaces.requiresProperty+"convertSources");if(1!==d.convertSources.length)throw new Error(a.errors.interfaces.requiresArguments+"sourceArray");c.getSources=d.getSources,c.convertSources=d.convertSources}}}),moviqContainer.register({name:"ISourceManifestParser",dependencies:["locale"],factory:function(a){"use strict";return function(b){var c=this,d=b||{};if(!b)throw new Error(a.errors.interfaces.requiresImplementation);if("function"!=typeof d.getSourcesByManifest)throw new Error(a.errors.interfaces.requiresProperty+"getSourcesByManifest");if(1!==d.getSourcesByManifest.length)throw new Error(a.errors.interfaces.requiresArguments+"iVideo");c.getSourcesByManifest=d.getSourcesByManifest}}}),moviqContainer.register({name:"IVideo",dependencies:["locale"],factory:function(){"use strict";return function(a){var b=this,c=a||{};b.events=c.events,b.buttons=c.buttons,b.progress=c.progress,b.manifest=c.manifest,b.sources=c.sources,b.dom={handle:c.dom.handle,video:c.dom.video,controls:c.dom.controls,header:c.dom.header}}}}),moviqContainer.register({name:"IVideoInitializer",dependencies:["locale"],factory:function(a){"use strict";return function(b){var c=this,d=b||{};if(!b)throw new Error(a.errors.interfaces.requiresImplementation);if("function"!=typeof d.bindVideos)throw new Error(a.errors.interfaces.requiresProperty+"bindVideos");if(2!==d.bindVideos.length)throw new Error(a.errors.interfaces.requiresArguments+"querySelector, manifest");c.bindVideos=d.bindVideos}}}),moviqContainer.register({name:"consoleEventEmitter",dependencies:["locale","IEventEmitter"],factory:function(a,b){"use strict";return new b({emit:function(a,b){console.log("moviq-event",[a,b])}})}}),moviqContainer.register({name:"defaultEventHandlers",dependencies:["locale","eventEmitter"],factory:function(a,b){"use strict";var c={};return c.onError=function(a){throw b.emit("moviq-error",{message:a}),new Error(a)},c.onPlay=function(a){b.emit("moviq-play",{event:a})},c.onPause=function(a){b.emit("moviq-pause",{event:a})},c.onShowCaptions=function(a){b.emit("moviq-show-captions",{event:a})},c.onHideCaptions=function(a){b.emit("moviq-hide-captions",{event:a})},c.onToggleSpeed=function(a){b.emit("moviq-toggle-speed",{event:a})},c.onChangeSpeed=function(a,c){b.emit("moviq-change-speed",{speed:c,event:a})},c.onToggleQuality=function(a){b.emit("moviq-toggle-quality",{event:a})},c.onChangeQuality=function(a,c){b.emit("moviq-change-quality",{quality:a,event:c})},c.onSoundOn=function(a){b.emit("moviq-sound-on",{event:a})},c.onSoundOff=function(a){b.emit("moviq-sound-off",{event:a})},c.onFullscreenOn=function(a){b.emit("moviq-fullscreen-on",{event:a})},c.onFullscreenOff=function(a){b.emit("moviq-fullscreen-off",{event:a})},c}}),moviqContainer.register({name:"defaultHtmlTemplates",dependencies:["locale"],factory:function(){"use strict";var a,b,c,d,e;return a='<div class="moviq-controls"><div class="moviq-controls-enclosure-more moviq-controls-quality"></div><div class="moviq-controls-enclosure-more moviq-controls-speed"><output class=" moviq-btn-text moviq-current-speed">1x</output><input class="moviq-speed-chooser" type="range" min=".25" max="3" step=".25" value="1" aria-label="Choose a playback speed" /></div><div class="moviq-controls-enclosure-more moviq-controls-cc"></div><div class="moviq-controls-enclosure"><div class="moviq-controls-left"><button class="moviq-btn moviq-btn-play" aria-label="Play or pause the video"><span class="fa fa-play"></span></button></div><div class="moviq-progress"><span class="moviq-progress-display"></span><span class="moviq-progress-picker"></span><div class="moviq-progress-bar" aria-label="This bar shows the current position of the video, as well as the amount buffered. You can click anywhere in this bar to seek to a new position."><span class="moviq-progress-buffer"></span><span class="moviq-progress-time"></span></div></div><div class="moviq-controls-right"><button class="moviq-btn moviq-btn-cc" aria-label="Toggle closed captions. This will open a menu, if more than one text track is available."><i class="fa fa-cc"></i></button><button class="moviq-btn moviq-btn-speed" aria-label="Toggle the controls for choosing a playback speed"><i class="fa fa-clock-o"></i></button><button class="moviq-btn moviq-btn-quality moviq-btn-text" aria-label="Toggle the video quality options"><em>HD</em></button><button class="moviq-btn moviq-btn-mute" aria-label="Mute or unmute sound"><span class="fa fa-volume-off"></span></button><button class="moviq-btn moviq-btn-fullscreen" aria-label="Toggle fullscreen"><span class="fa fa-arrows-alt"></span></button></div></div></div>',b='<button class="moviq-btn moviq-btn-choose-quality moviq-btn-text" aria-label="Set the video quality to: {0}" data-quality="{0}"><em>{0}</em></button>',c='<button class="moviq-btn moviq-btn-choose-cc moviq-btn-text" aria-label="Set the closed captions to: {0}" data-quality="{0}"><em>{0}</em></button>',d='<source type="{type}" data-label="{label}" src="{src}" />',e='<track label="{label}" kind="captions" srclang="{srclang}" src="{src}">',{controls:a,qualityButton:b,ccButton:c,sourceElement:d,trackElement:e}}}),moviqContainer.register({name:"IJqVideo",dependencies:["locale","IVideo"],factory:function(a,b){"use strict";return function(a){var c=new b(a),d=a||{};return c.$dom={$handle:d.$dom.$handle,$video:d.$dom.$video,$controls:d.$dom.$controls,$header:d.$dom.$header},c}}}),moviqContainer.register({name:"jqButtons",dependencies:["locale","jqQuerySelectors","jQuery"],factory:function(a,b,c){"use strict";var d,e,f;return e=function(a,b,d){var e=d.controls.getHandle(d.controls.play),f=d.controls.getHandle(d.controls.cc),g=d.controls.getHandle(d.controls.speed),h=d.controls.getHandle(d.controls.quality),i=d.controls.getHandle(d.controls.quality_choice),j=d.controls.getHandle(d.controls.mute),k=d.controls.getHandle(d.controls.fullscreen),l=d.controls.getHandle(d.controls.speed_chooser),m=d.controls.getHandle(d.controls.speed_current);a.$dom.$handle.on("mouseenter",function(){a.$dom.$controls.stop().fadeTo(500,.9),a.$dom.$header.stop().fadeTo(500,.9)}).on("mouseleave",function(){a.$dom.$controls.stop().fadeOut(),a.$dom.$header.stop().fadeOut()}),e.on("click",function(c){var d=b.togglePlay();1===d?a.events.onPlay(c):0===d&&a.events.onPause(c)}),f.on("click",function(c){var d=b.toggleCaptions();1===d?a.events.onShowCaptions(c):0===d&&a.events.onHideCaptions(c)}),g.on("click",function(c){b.toggleSpeed();a.events.onToggleSpeed(c)}),l.on("change mousemove",function(c){var d=b.changeSpeed(l.val());m.text(l.val()+"x"),d.changed&&a.events.onChangeSpeed(c,d.newSpeed)}),h.on("click",function(c){b.toggleQuality();a.events.onToggleQuality(c)}),i.on("click",function(d){var e=c(d.currentTarget),f=e.attr("data-quality"),g=b.changeQuality(f);a.events.onChangeQuality(g)}),j.on("click",function(c){var d=b.toggleMute();1===d?a.events.onSoundOn(c):0===d&&a.events.onSoundOff(c)}),k.on("click",function(c){var d=b.toggleFullscreen();1===d?a.events.onFullscreenOn(c):0===d&&a.events.onFullscreenOff(c)})},f=function(b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p=b.$dom.$video,q=b.dom.video;return d=function(){var a=c.controls.getIconHandle(c.controls.play);return q.paused||q.ended?(a.removeClass("fa-play").addClass("fa-pause"),q.play(),1):(a.removeClass("fa-pause").addClass("fa-play"),q.pause(),0)},g=function(){var a=b.$dom.$handle;return a.hasClass("fullscreen")?(i(b),0):(h(b),1)},h=function(){var d=b.dom.handle,e=b.$dom.$handle,f=c.controls.getIconHandle(c.controls.fullscreen);d.requestFullscreen?d.requestFullscreen():d.msRequestFullscreen?d.msRequestFullscreen():d.mozRequestFullScreen?d.mozRequestFullScreen():d.webkitRequestFullscreen?d.webkitRequestFullscreen():b.events.onError(a.errors.jqButtons.fullscreenNotSupported),e.addClass("fullscreen"),f.removeClass("fa-arrows-alt").addClass("fa-compress")},i=function(){var a=b.$dom.$handle,d=c.controls.getIconHandle(c.controls.fullscreen);a.removeClass("fullscreen"),d.removeClass("fa-compress").addClass("fa-arrows-alt"),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},e=function(){var a=c.controls.getHandle(c.controls.cc),b=q.textTracks[0];if(a.hasClass("selected")){if(a.removeClass("selected"),b)return b.mode="hidden",0}else if(a.addClass("selected"),b)return b.mode="showing",1},j=function(){var a=c.controls.getIconHandle(c.controls.mute);return q.muted=!q.muted,a.hasClass("fa-volume-off")?(a.removeClass("fa-volume-off").addClass("fa-volume-up"),0):(a.removeClass("fa-volume-up").addClass("fa-volume-off"),1)},k=function(){var a=c.controls.getHandle(c.controls.speed);m(a,"with-speed")},l=function(a){if("number"==typeof a){var b=a.toFixed(2),c=q.playbackRate.toFixed(2);return b!==c?(q.playbackRate=a,{newSpeed:b,changed:!0}):{newSpeed:b,changed:!1}}if("string"!=typeof a)return{newSpeed:q.playbackRate.toFixed(2),changed:!1};try{return l(parseFloat(a))}catch(d){return q.playbackRate}},n=function(){var a=c.controls.getHandle(c.controls.quality);m(a,"with-quality")},o=function(a){var d,e,f;for(e=0;e<b.sources.length;e+=1)if(b.sources[e].label===a){d=b.sources[e];break}return c.controls.getHandle(c.controls.quality+" em").text(d.label),f=q.currentTime,q.pause(),p.attr("src",d.src),q.currentTime=f,q.play(),d},m=function(a,d){if(a.hasClass("selected"))a.removeClass("selected"),b.$dom.$controls.removeClass(d);else{var e;for(c.controls.getHandle(".selected").removeClass("selected"),e=0;e<c.controls.subMenus.length;e+=1)b.$dom.$controls.removeClass(c.controls.subMenus[e]);a.addClass("selected"),b.$dom.$controls.addClass(d)}},{togglePlay:d,toggleCaptions:e,toggleFullscreen:g,toggleMute:j,toggleSpeed:k,changeSpeed:l,toggleQuality:n,changeQuality:o,buttonsToShow:f}},d=function(a){var c=b(a),d=f(a,c);return e(a,d,c),d},{init:d}}}),moviqContainer.register({name:"jqEventEmitter",dependencies:["locale","IEventEmitter","jQuery"],factory:function(a,b,c){"use strict";return new b({emit:function(a,b){c(document).trigger(a,[b]).trigger("moviq-event",[a,b])}})}}),moviqContainer.register({name:"jqHtmlTemplateGenerator",dependencies:["locale","defaultHtmlTemplates","IHtmlTemplateGenerator","jqQuerySelectors","jQuery"],factory:function(a,b,c,d,e){"use strict";var f,g,h;return f=function(a){var c,f,g,h=d();for(c=e(b.controls),f=c.find(h.controls.quality_menu),g=0;g<a.length;g+=1)f.append(b.qualityButton.replace(/\{0\}/g,a[g].label));return c[0]},g=function(a){var c,d="";for(c=0;c<a.length;c+=1)d+=b.sourceElement.replace(/\{type\}/,a[c].type).replace(/\{label\}/,a[c].label).replace(/\{src\}/,a[c].src);return d},h=function(a){var c,d="";for(c=0;c<a.length;c+=1)d+=b.sourceElement.replace(/\{label\}/,a[c].label).replace(/\{srclang\}/,a[c].srclang).replace(/\{src\}/,a[c].src);return d},new c({makeControlsMarkup:f,makeSourceMarkup:g,makeCaptionMarkup:h})}}),moviqContainer.register({name:"jqProgressMeter",dependencies:["locale","jqQuerySelectors","IProgressMeter"],factory:function(a,b,c){"use strict";var d=function(a){var c,d,e,f,g,h,i,j,k,l,m=a,n=b(m),o=!1;c=m.$dom.$video,d=m.dom.video,e=n.controls.getHandle(n.controls.progress_bar),f=n.controls.getHandle(n.controls.progress_time),g=n.controls.getHandle(n.controls.progress_buffer),h=n.controls.getHandle(n.controls.progress_timeDisplay),k={getPositionPercent:function(){return 100*(d.currentTime/d.duration)},getBufferedPercent:function(){return d.buffered.length>0?100*(d.buffered.end(0)/d.duration):0},getAmountConsumed:function(){throw new Error("NOT IMPLEMENTED")}},l={setPosition:function(a){var b=l.getCoordinates(a).percent;l.updateDisplay(b),d.currentTime=d.duration*b/100},getCoordinates:function(a){var b=a-e.offset().left,c=100*b/e.width();return c>100?c=100:0>c&&(c=0),{position:b,percent:c}},getPosition:function(a){var b=l.getCoordinates(a),c=d.duration*(b.percent/100);return{time:j(c),left:b.position}},updateDisplay:function(a){var b=a||k.getPositionPercent(),c=k.getBufferedPercent(),e=j(d.currentTime);d.duration>0&&(e+=" / "+j(d.duration)),f.css("width",b+"%"),g.css("width",c+"%"),o||h.text(e)}},j=function(a){var b,c;return b=Math.floor(a/60)<10?"0"+Math.floor(a/60):Math.floor(a/60),c=Math.floor(a-60*b)<10?"0"+Math.floor(a-60*b):Math.floor(a-60*b),b+":"+c},i=function(){var a=n.controls.getHandle(n.controls.progress_timeDisplay),b=n.controls.getHandle(n.controls.progress_timePicker);c.on("timeupdate",function(){l.updateDisplay()}),e.on("mousedown",function(a){l.setPosition(a.pageX)}).on("mouseleave",function(){b.text(""),o=!1}).on("mousemove",function(c){var d=l.getPosition(c.pageX);o=!0,a.text(""),b.text(d.time),b.css("left",d.left)})},i(),l.updateDisplay()};return new c({init:d})}}),moviqContainer.register({name:"jqQuerySelectors",factory:function(a){"use strict";return{header:".moviq-header",controls:{control_container:".moviq-controls",more_controls_container:".moviq-controls-enclosure-more",play:".moviq-btn-play",mute:".moviq-btn-mute",fullscreen:".moviq-btn-fullscreen",cc:".moviq-btn-cc",choose_cc:".moviq-btn-choose-cc",speed:".moviq-btn-speed",speed_chooser:".moviq-speed-chooser",speed_current:".moviq-current-speed",choose_speed:".moviq-btn-choose-speed",quality_menu:".moviq-controls-quality",quality:".moviq-btn-quality",quality_choice:".moviq-btn-choose-quality",progress:".moviq-progress",progress_bar:".moviq-progress-bar",progress_buffer:".moviq-progress-buffer",progress_time:".moviq-progress-time",progress_timeDisplay:".moviq-progress-display",progress_timePicker:".moviq-progress-picker",buttons_right:".moviq-buttons-right",controls_left:".moviq-controls-left",controls_right:".moviq-controls-right",subMenus:["with-speed","with-quality","with-cc"],getHandle:function(b){return a.$dom.$controls.find(b)},getIconHandle:function(b){return a.$dom.$controls.find(b+" span")}}}}}),moviqContainer.register({name:"jqSourceParser",dependencies:["locale","ISource","ISourceParser","jQuery"],factory:function(a,b,c,d){"use strict";var e,f,g;return f=function(a){var b,c,f=[],g=e(a.$dom.$video),h=a.$dom.$video.children("source");for(g&&f.push(g),c=0;c<h.length;c+=1)b=e(d(h[c]),c),b&&f.push(b);return f},e=function(a,c){var d=a.attr("src"),e=a.attr("type"),f=a.attr("data-label");return d&&e?new b({src:d,type:e,label:f||"Q"+((c||0)+1).toString()}):null},g=function(a){var c,d=[];for(c=0;c<a.length;c+=1)d.push(new b(a[c]));return d},new c({getSources:f,convertSources:g})}}),moviqContainer.register({name:"jqVideo",dependencies:["locale","IJqVideo","jqQuerySelectors","eventHandlers","jqButtons","jqProgressMeter","sourceParser","sourceManifestParser","htmlTemplateGenerator"],factory:function(a,b,c,d,e,f,g,h,i){"use strict";return function(a,j){var k,l,m=c(a),n=a.find(m.controls.control_container);return k=new b({events:d,sources:void 0,captions:void 0,buttons:void 0,progress:void 0,manifestUrl:void 0,$dom:{$handle:a,$video:a.children("video").first(),$controls:void 0,$header:a.children(m.header).first()},dom:{handle:a[0],video:a.children("video").first()[0],controls:void 0,header:a.children(m.header).first()[0]}}),j?(k.sources=g.convertSources(j.sources),k.captions=j.captions,k.sources.length>0&&k.$dom.$video.append(i.makeSourceMarkup(k.sources)),k.captions.length>0&&k.$dom.$video.append(i.makeCaptionMarkup(k.captions))):k.dom.video.dataset.manifest?(k.manifestUrl=k.dom.video.dataset.manifest,k.sources=h.getSourcesByManifest(k.dom.video.dataset.manifest),k.captions=void 0):(k.sources=g.getSources(k),k.captions=k.dom.video.textTracks),l=k.captions[0],l&&(l.mode="hidden"),n.length<1&&k.$dom.$handle.append(i.makeControlsMarkup(k.sources)),k.$dom.$controls=a.children(m.controls.control_container).first(),k.dom.controls=k.$dom.$controls[0],k.buttons=e.init(k),k.progress=f.init(k),a.addClass("moviqified"),k}}}),moviqContainer.register({name:"jqVideoInitializer",dependencies:["locale","Video","IVideoInitializer","eventEmitter","jQuery"],factory:function(a,b,c,d,e){"use strict";return new c({bindVideos:function(a,c){var d,f,g=[],h=".moviqified";for(a?"string"==typeof a?d=e(a).not(h):a instanceof e&&(d=a.not(h)):d=e(".moviq-video").not(h),0===d.length&&console.log("moviq info","no videos were found to process"),f=0;f<d.length;f+=1)g.push(new b(e(d[f]),c));return g}})}}),function(a){"use strict";var b;b=function(a){var b,c,d,e,f,g,h,i;a.register({name:"locale",factory:function(){return b||(b=a.resolve("locale::en_US")),b}}),a.register({name:"eventEmitter",factory:function(){return c||(c=a.resolve("jqEventEmitter")),c}}),a.register({name:"eventHandlers",factory:function(){return g||(g=a.resolve("defaultEventHandlers")),g}}),a.register({name:"sourceParser",factory:function(){return d||(d=a.resolve("jqSourceParser")),d}}),a.register({name:"sourceManifestParser",factory:function(){return e||(e="NOT IMPLEMENTED"),e}}),a.register({name:"htmlTemplateGenerator",factory:function(){return f||(f=a.resolve("jqHtmlTemplateGenerator")),f}}),a.register({name:"Video",factory:function(){return h||(h=a.resolve("jqVideo")),h}}),a.register({name:"videoInitializer",factory:function(){return i||(i=a.resolve("jqVideoInitializer")),i}})},a.Moviq=function(a){var c,d,e,f=moviqContainer,g=a||{};return b(f),c=f.resolve("IMoviq"),d=f.resolve("videoInitializer"),e=new c({ify:d.bindVideos,bindAll:d.bindVideos}),g.bindNow&&e.bindAll(),e}}(window);